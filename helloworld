import boto3

def lambda_handler(event, context):
    # Retrieve the authentication token from the input event
    auth_token = event['headers']['Authorization']

    # Initialize the Cognito identity provider client
    cognito_client = boto3.client('cognito-idp')

    # Retrieve information about the user from Cognito
    user_info = cognito_client.get_user(
        AccessToken=auth_token
    )

    # Extract the user's email address from the user info
    email = None
    for attribute in user_info['UserAttributes']:
        if attribute['Name'] == 'email':
            email = attribute['Value']
            break

    # Return the user's email address as the output of the Lambda function
    return {
        'statusCode': 200,
        'body': f'User email address: {email}'
    }
