import requests
import json

# Venafi API endpoint URL
url = "https://your-venafi-instance.example.com/api/v1/certificate"

# Venafi API key
api_key = "your-api-key"

# Venafi Zone
zone = "your-zone"

# Certificate details
common_name = "example.com"
san = ["www.example.com"]
validity_period = 365

# Certificate request JSON object
certificate_request = {
    "certificate_request": {
        "common_name": common_name,
        "dns_names": san,
        "validity_period": validity_period,
        "zone": zone
    }
}

# Send the certificate request to Venafi
response = requests.post(
    url, 
    headers={
        "Content-Type": "application/json",
        "X-Venafi-API-Key": api_key
    },
    data=json.dumps(certificate_request)
)

# Print the response from Venafi
print(response.json())

